# ğŸ’³ ì¹´ë“œ ì¶”ì²œ ì‹œìŠ¤í…œ (Docker + RAG + OpenAI)

ì´ í”„ë¡œì íŠ¸ëŠ” Docker í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê°œì¸í™”ëœ ì‹ ìš©ì¹´ë“œ ì¶”ì²œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. RAG(Retrieval-Augmented Generation) ê¸°ìˆ ê³¼ OpenAI GPTë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ì†Œë¹„ íŒ¨í„´ì— ë§ëŠ” ì¹´ë“œë¥¼ ì¶”ì²œí•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ ì„¤ëª…ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- âœ… Docker ê¸°ë°˜ MySQL í™˜ê²½ìœ¼ë¡œ ê°„í¸í•œ ì„¤ì •
- âœ… ì†Œë¹„ íŒ¨í„´ ê¸°ë°˜ ê°œì¸í™”ëœ ì¹´ë“œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- âœ… SentenceTransformer ê¸°ë°˜ ì˜ë¯¸ë¡ ì  ì¹´ë“œ ê²€ìƒ‰
- âœ… OpenAI GPTë¥¼ í™œìš©í•œ ìì—°ì–´ ì„¤ëª… ìƒì„±
- âœ… í™•ì¥ ê°€ëŠ¥í•œ ëª¨ë“ˆì‹ ì•„í‚¤í…ì²˜

## ğŸ”§ ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ

### ë°ì´í„°ë² ì´ìŠ¤

- MySQL 8.0 Docker ì»¨í…Œì´ë„ˆ
- ì¹´ë“œ ì •ë³´, ì‚¬ìš©ì í”„ë¡œí•„, ì†Œë¹„ íŒ¨í„´, ì¶”ì²œ ê²°ê³¼ ì €ì¥

### ë°±ì—”ë“œ

- Python ê¸°ë°˜ RAG ì—”ì§„
- ì˜ë¯¸ë¡ ì  ê²€ìƒ‰ì„ ìœ„í•œ SentenceTransformer
- OpenAI GPT í†µí•© API

## ğŸ“‹ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Docker Desktop
- Python 3.10 ê¶Œì¥
- pip (Python íŒ¨í‚¤ì§€ ê´€ë¦¬ì)

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
# í´ë” ë§Œë“¤ë•Œ í•œêµ­ì–´ x ì˜ì–´ë¡œ ë„ì–´ì“°ê¸° ì—†ì´ë§Œë“¤ì
git clone https://github.com/ingstats/card-recommendation.git .
```

### 2. í™˜ê²½ ì„¤ì •

```bash
# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±
cp .env.example .env
# Slackìœ¼ë¡œ ê³µìœ í•œ ë‚´ìš© envíŒŒì¼ì— ctr+c -> ctr+ví•˜ê¸°
# TOKENIZERS_PARALLELISM=false ì‘ì—… ì¶”ê°€í–ˆìŒ.
```

### 3. ê°€ìƒí™˜ê²½ ì„¤ì • (ê¶Œì¥)

```bash
# Mac/Linux/Windows
conda create -n card_env python=3.10
conda activate card_env
```

### 4. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 5. Docker í™˜ê²½ ì‹¤í–‰

```bash
# Docker Desktop ì‹¤í–‰ í™•ì¸
docker compose up -d
```

### 6. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë° ë°ì´í„° ë¡œë“œ

```bash
# Mac/Linux
chmod +x scripts/setup_mysql.sh
./scripts/setup_mysql.sh

# Windows
bash scripts/setup_mysql.sh

# ì¹´ë“œ ë°ì´í„° ë¡œë“œ
# ì´ê±´ ìƒê°í•´ë„ ë¨
# python scripts/card_data_tosql.py
```

### 7. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
python docker_test_recommendation.py
```

## ğŸ“Š ì‹œìŠ¤í…œ ë™ì‘ ì˜ˆì‹œ

**ì…ë ¥ ì˜ˆì‹œ:**

- ì‚¬ìš©ì ID: user1
- ì§ˆë¬¸: "ì¹´í˜ì™€ ì‡¼í•‘í•  ë•Œ í˜œíƒì´ ì¢‹ì€ ì¹´ë“œ ì¶”ì²œí•´ì£¼ì„¸ìš”"

**ì¶œë ¥ ì˜ˆì‹œ:**

```
=== ì¶”ì²œ ê²°ê³¼ ===
ì‚¬ìš©ìë‹˜ì˜ ì†Œë¹„ íŒ¨í„´ì„ ê³ ë ¤í•˜ì—¬ ì¹´ë“œë¥¼ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.

### 1. ì¶”ì²œ ì¹´ë“œ:
- ì¹´ë“œëª…: ì²­ì¶˜ëŒ€ë¡œ í†¡í†¡ì¹´ë“œ
- ì¹´ë“œì‚¬: KBêµ­ë¯¼ì¹´ë“œ
- ì¶”ì²œ ì´ìœ : ê·€í•˜ì˜ ì£¼ìš” ì†Œë¹„ ìŠµê´€ ì¤‘ ì¹´í˜ ë°©ë¬¸ì´ ë§ê³ , ì´ ì¹´ë“œëŠ” ì¹´í˜ì™€ ë””ì €íŠ¸ í˜œíƒì´ ê°•ì ì…ë‹ˆë‹¤.
- ì£¼ìš” í˜œíƒ:
  * ì¹´í˜/ë””ì €íŠ¸: ìŠ¤íƒ€ë²…ìŠ¤ 50% ì²­êµ¬í• ì¸
  * íŒ¨ìŠ¤íŠ¸í‘¸ë“œ: ë²„ê±°/íŒ¨ìŠ¤íŠ¸í‘¸ë“œ ì—…ì¢… 20% ì²­êµ¬í• ì¸
  ...
```

## ğŸ”„ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
card-recommendation-system/
â”œâ”€â”€ docker-compose.yml         # Docker MySQL ì»¨í…Œì´ë„ˆ ì„¤ì •
â”œâ”€â”€ card_recommendation.py     # í•µì‹¬ ì¶”ì²œ ì‹œìŠ¤í…œ ë¡œì§
â”œâ”€â”€ docker_test_recommendation.py # í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup_mysql.sh         # MySQL í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì„¤ì •
â”‚   â””â”€â”€ card_data_tosql.py     # ì¹´ë“œ ë°ì´í„° ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ data/
    â””â”€â”€ card_data_updated.xlsx # ì¹´ë“œ ì •ë³´ ì—‘ì…€ íŒŒì¼
```

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

1. ì´ ì €ì¥ì†Œë¥¼ í¬í¬í•©ë‹ˆë‹¤.
2. ìƒˆ ë¸Œëœì¹˜ë¥¼ ë§Œë“­ë‹ˆë‹¤ (`git checkout -b feature/amazing-feature`).
3. ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•©ë‹ˆë‹¤ (`git commit -m 'Add some amazing feature'`).
4. ë¸Œëœì¹˜ë¥¼ í‘¸ì‹œí•©ë‹ˆë‹¤ (`git push origin feature/amazing-feature`).
5. Pull Requestë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

## ğŸ“œ ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„¼ìŠ¤ì— ë”°ë¼ ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“¬ ë¬¸ì˜

- ê°œë°œì: @ingstats
